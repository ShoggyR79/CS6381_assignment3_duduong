2023-04-04 16:05:23,680 - root INFO - Main - acquire a child logger and then log messages in the child
2023-04-04 16:05:23,689 - DiscoveryAppln DEBUG - Main: parse command line arguments
2023-04-04 16:05:23,696 - DiscoveryAppln DEBUG - Main: resetting log level to 20
2023-04-04 16:05:23,696 - DiscoveryAppln INFO - DiscoveryAppln::configure
2023-04-04 16:05:23,696 - DiscoveryAppln INFO - DiscoveryMW::configure
2023-04-04 16:05:23,697 - DiscoveryAppln INFO - DiscoveryMW::ensure_quorum
2023-04-04 16:05:23,729 - kazoo.client INFO - Connecting to 10.0.0.1(10.0.0.1):2181, use_ssl: False
2023-04-04 16:05:23,732 - kazoo.client WARNING - Connection dropped: socket connection error: Connection refused
2023-04-04 16:05:23,857 - kazoo.client INFO - Connecting to 10.0.0.1(10.0.0.1):2181, use_ssl: False
2023-04-04 16:05:23,858 - kazoo.client WARNING - Connection dropped: socket connection error: Connection refused
2023-04-04 16:05:24,201 - kazoo.client INFO - Connecting to 10.0.0.1(10.0.0.1):2181, use_ssl: False
2023-04-04 16:05:24,203 - kazoo.client WARNING - Connection dropped: socket connection error: Connection refused
2023-04-04 16:05:25,027 - kazoo.client INFO - Connecting to 10.0.0.1(10.0.0.1):2181, use_ssl: False
2023-04-04 16:05:25,028 - kazoo.client DEBUG - Sending request(xid=None): Connect(protocol_version=0, last_zxid_seen=0, time_out=10000, session_id=0, passwd=b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00', read_only=None)
2023-04-04 16:05:25,032 - kazoo.client INFO - Zookeeper connection established, state: CONNECTED
2023-04-04 16:05:25,032 - DiscoveryAppln INFO - DiscoveryMW::ensure_quorum: ZK client state = CONNECTED
2023-04-04 16:05:25,032 - kazoo.client DEBUG - Sending request(xid=1): Create(path='/discovery/disc2', data=b'', acl=[ACL(perms=31, acl_list=['ALL'], id=Id(scheme='world', id='anyone'))], flags=1)
2023-04-04 16:05:25,035 - kazoo.client DEBUG - Received response(xid=1): '/discovery/disc2'
2023-04-04 16:05:25,035 - kazoo.client DEBUG - Sending request(xid=2): GetChildren(path='/discovery', watcher=None)
2023-04-04 16:05:25,036 - kazoo.client DEBUG - Received response(xid=2): ['disc3', 'disc1', 'disc2']
2023-04-04 16:05:25,036 - DiscoveryAppln INFO - DiscoveryMW::ensure_quorum: quorum_size met, creating leader
2023-04-04 16:05:25,036 - DiscoveryAppln INFO - DiscoveryMW::create_leader: attempting to create new ephemeral leader
2023-04-04 16:05:25,037 - kazoo.client DEBUG - Sending request(xid=3): Create(path='/leader', data=b'{"name": "disc2", "rep_addr": "tcp://10.0.0.3:5555", "pub_addr": "tcp://10.0.0.3:5556"}', acl=[ACL(perms=31, acl_list=['ALL'], id=Id(scheme='world', id='anyone'))], flags=1)
2023-04-04 16:05:25,039 - kazoo.client DEBUG - Received response(xid=3): '/leader'
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - DiscoveryMW::create_leader: leader created
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - DiscoveryMW::configure completed
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - DiscoveryAppln::configure completed
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - DiscoveryAppln::driver
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - **********************************
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - DiscoveryAppln::dump
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - ------------------------------
2023-04-04 16:05:25,039 - DiscoveryAppln INFO -      Lookup: Centralized
2023-04-04 16:05:25,039 - DiscoveryAppln INFO -      Dissemination: Broker
2023-04-04 16:05:25,039 - DiscoveryAppln INFO - **********************************
2023-04-04 16:05:25,039 - kazoo.client DEBUG - Sending request(xid=4): GetData(path='/leader', watcher=<bound method DataWatch._watcher of <kazoo.recipe.watchers.DataWatch object at 0x7fd0041411b0>>)
2023-04-04 16:05:25,041 - kazoo.client DEBUG - Received response(xid=4): (b'{"name": "disc2", "rep_addr": "tcp://10.0.0.3:5555", "pub_addr": "tcp://10.0.0.3:5556"}', ZnodeStat(czxid=14, mzxid=14, ctime=1680642325037, mtime=1680642325037, version=0, cversion=0, aversion=0, ephemeralOwner=72059897973637127, dataLength=87, numChildren=0, pzxid=14))
2023-04-04 16:05:25,042 - kazoo.client DEBUG - Sending request(xid=5): GetData(path='/broker', watcher=<bound method DataWatch._watcher of <kazoo.recipe.watchers.DataWatch object at 0x7fd004141240>>)
2023-04-04 16:05:25,043 - kazoo.client DEBUG - Received error(xid=5) NoNodeError()
2023-04-04 16:05:25,043 - kazoo.client DEBUG - Sending request(xid=6): Exists(path='/broker', watcher=<bound method DataWatch._watcher of <kazoo.recipe.watchers.DataWatch object at 0x7fd004141240>>)
2023-04-04 16:05:25,044 - kazoo.client DEBUG - Sending request(xid=7): Create(path='/publisher', data=b'', acl=[ACL(perms=31, acl_list=['ALL'], id=Id(scheme='world', id='anyone'))], flags=0)
2023-04-04 16:05:25,047 - kazoo.client DEBUG - Received response(xid=7): '/publisher'
2023-04-04 16:05:25,047 - kazoo.client DEBUG - Sending request(xid=8): GetChildren(path='/publisher', watcher=<bound method ChildrenWatch._watcher of <kazoo.recipe.watchers.ChildrenWatch object at 0x7fd0041416f0>>)
2023-04-04 16:05:25,048 - kazoo.client DEBUG - Received response(xid=8): []
2023-04-04 16:05:25,048 - DiscoveryAppln INFO - DiscoveryMW::watch_pubs: publisher changed, updating publisher info
2023-04-04 16:05:25,048 - DiscoveryAppln INFO - DiscoveryMW::watch_pubs: []
2023-04-04 16:05:25,048 - DiscoveryAppln INFO - DiscoveryAppln::update_publisher_info - updating publishers
2023-04-04 16:05:25,048 - DiscoveryAppln INFO - DiscoveryAppln::update_publisher_info - updated publishers: {}
2023-04-04 16:05:25,048 - DiscoveryAppln INFO - DiscoveryAppln::update_publisher_info - updated topics: {}
2023-04-04 16:05:25,048 - DiscoveryAppln INFO - DiscoveryMW::event_loop: start
2023-04-04 16:05:25,049 - DiscoveryAppln INFO - DiscoveryAppln::invoke_operation
2023-04-04 16:05:25,128 - DiscoveryAppln INFO - DiscoveryMW::handle_request:
2023-04-04 16:05:25,128 - DiscoveryAppln INFO - <built-in method format of str object at 0x7fd004eaa3a0>
2023-04-04 16:05:25,128 - DiscoveryAppln ERROR - Exception caught in main - 'NoneType' object is not subscriptable
